---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  date: string;
  updatedDate?: string;
  tags?: string[];
}

const { title, date, updatedDate, tags } = Astro.props;

const formatDate = (dateStr: string) => {
  return new Date(dateStr).toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
};
---

<BaseLayout title={`posts/${title}`} description={title}>
  <article class="max-w-3xl">
    <div class="mb-6 border-b pb-4">
      <h2 class="text-xl font-bold mb-2">{title}</h2>
      <div class="text-xs text-gray-500">
        <span>Published: {formatDate(date)}</span>
        {updatedDate && <span class="ml-4">Updated: {formatDate(updatedDate)}</span>}
      </div>
      {tags && tags.length > 0 && (
        <div class="mt-2 flex gap-2 flex-wrap">
          {tags.map((tag) => (
            <span class="text-xs bg-gray-100 px-2 py-1">{tag}</span>
          ))}
        </div>
      )}
    </div>
    <slot />
  </article>
</BaseLayout>
